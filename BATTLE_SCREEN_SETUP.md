# バトル画面背景セットアップガイド

## 背景画像の配置

提供されたドラゴンアリーナのバトルシーン画像を以下の場所に配置してください：

```
mathmagic/
  assets/
    images/
      battle-bg.jpg  ← ここに配置
```

## 画像ファイル詳細

- **ファイル名**: `battle-bg.jpg` （または `.png`）
- **推奨サイズ**: 1920x1080px 以上（提供画像は適切なサイズ）
- **フォーマット**: JPG または PNG
- **特徴**:
  - 壮大なドラゴンアリーナ
  - 中央で繰り広げられる魔法バトル
  - 紫とシアンの魔法エフェクト
  - 観客席に囲まれた円形闘技場
  - 上空に浮かぶドラゴン（紫と青）
  - ダークファンタジー調の雰囲気

## 画像が異なるファイル名の場合

もし画像のファイル名が異なる場合は、`css/style.css` の以下の行を修正してください：

```css
/* Line 41 付近 */
background-image: url('../assets/images/battle-bg.jpg');
```

例：`your-battle.png` の場合
```css
background-image: url('../assets/images/your-battle.png');
```

## デザイン仕様

### 背景の表示方法
- **表示**: `background-size: cover` - 画面全体をカバー
- **位置**: `background-position: center` - 中央配置
- **固定**: `background-attachment: fixed` - スクロール時に背景は固定
- **透明度**: `opacity: 0.75` - 75%の不透明度（問題カードの視認性を確保）
- **ベース色**: `#1a1530` - 濃い紫（画像読み込み前の背景色）

### 透明度について

バトルシーンは派手なエフェクトが多いため、他の背景より透明度を低く設定（0.75）しています。
これにより問題カードが見やすくなります。

### レスポンシブ対応
- スマホ〜PCまで自動で画面サイズに適応
- 背景は常に中央に配置され、画面をカバー
- スクロール可能（overflow-y: auto）

## カスタマイズ

### 背景の透明度を調整

問題カードの視認性を調整したい場合は、`css/style.css` の `opacity` を変更：

```css
.battle-bg::before {
    opacity: 0.75;  /* 0.5（薄い）〜 1.0（濃い） */
}
```

- **0.5**: 背景がかなり薄く、カードが強調される（推奨しない）
- **0.75**: デフォルト（バランス型）
- **0.85**: 背景がやや濃い
- **1.0**: 背景がくっきり見える（カードが見づらくなる可能性）

### 背景色を調整

画像読み込み前やエラー時に表示される背景色：

```css
.battle-bg {
    background: #1a1530;  /* 濃い紫 */
}
```

画像の雰囲気に合わせた色を選択済みです。

## ファイル構成

```
mathmagic/
├── assets/
│   └── images/
│       ├── fantasy-start-bg.jpg     # スタート画面背景
│       ├── world-map-bg.jpg         # ワールドマップ背景
│       └── battle-bg.jpg            # バトル画面背景 ← NEW!
├── css/
│   └── style.css                    # 背景スタイル更新済み
├── quest.html                       # class="battle-bg" 使用中
└── BATTLE_SCREEN_SETUP.md          # このファイル
```

## 使用場面

この背景は以下の画面で使用されます：
- **quest.html**: 問題を解く画面（メインバトル画面）
- 10問連続で表示されるクエスト画面

## UI要素との調和

### 問題カード
- 半透明のガラスモーフィズムデザイン
- `backdrop-blur` でぼかしエフェクト
- 背景が派手でも問題文が読みやすい

### ヘッダー
- 半透明の白背景（`bg-white/10`）
- ぼかしエフェクト（`backdrop-blur-md`）

## トラブルシューティング

### 背景が表示されない
1. 画像ファイルが正しいパスに配置されているか確認
   - `assets/images/battle-bg.jpg`
2. ファイル名の大文字小文字を確認
3. ブラウザのキャッシュをクリア（Ctrl + Shift + R）
4. 開発者ツールのコンソールでエラーを確認

### 背景が暗すぎる／明るすぎる
- `opacity` の値を調整（上記「背景の透明度を調整」参照）
- 推奨範囲: 0.7〜0.85

### 問題カードが見づらい
- 透明度を下げる（例: `opacity: 0.65`）
- 問題カード自体の背景色を調整することも可能

### パフォーマンスが悪い
- JPGフォーマットを使用（PNGより軽量）
- 画像サイズを最適化（1920x1080px程度）

## デザインコンセプト

この壮大なアリーナ背景は、以下の体験を演出します：
- **緊張感**: ドラゴンと観客に見守られる中でのバトル
- **魔法の力**: 派手な魔法エフェクトで算数・数学の「魔法」を表現
- **達成感**: 大舞台で戦っている特別感
- **ファンタジーRPG**: 中世ファンタジー世界観

子供たちが「すごい場所で戦っている！」と感じられるデザインです。

## ブラウザ対応

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

---

**更新日**: 2024-11-08
**デザイナー**: Claude Code
