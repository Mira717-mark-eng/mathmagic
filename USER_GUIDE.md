# 📖 ユーザーガイド

**マスマジ！～魔法数学冒険記～**  
**遊び方・操作方法**

---

## 🎮 はじめに

「マスマジ！」へようこそ！このゲームは、数学を楽しく学べるRPG風の教育ゲームです。

### ゲームの特徴
- 🧙‍♂️ **RPG風の世界観**: ファンタジーの世界で冒険
- 📚 **ストーリー付き問題**: 楽しく問題を解ける
- ⬆️ **レベルアップ**: 経験値を貯めて成長
- 💾 **自動保存**: いつでも続きから再開

---

## 🚀 始め方

### 1. ゲームを開く
ブラウザで `index.html` を開いてください。

**推奨ブラウザ**:
- Google Chrome
- Safari
- Microsoft Edge
- Firefox

### 2. 新しい冒険を始める
「新しい冒険を始める」ボタンをクリック。

---

## 👤 プレイヤー作成

### Step 1: 学年を選ぶ
あなたの学年を選んでください。

**選べる学年**:
- 小学1年生〜6年生
- 中学1年生〜3年生

💡 **ヒント**: 自分の学年を選ぶと、ちょうどいい難しさの問題が出ます。

### Step 2: キャラクターを選ぶ
4種類のキャラクターから選べます。

#### 🧙‍♂️ 魔法使い
- 知恵の力で問題を解く
- おすすめ: 考えるのが好きな人

#### 🗡️ 騎士
- 勇気の力で挑戦する
- おすすめ: チャレンジ精神がある人

#### 🏹 アーチャー
- 集中の力で狙い撃つ
- おすすめ: 集中力がある人

#### ⚕️ ヒーラー
- 優しさの力で癒す
- おすすめ: やさしい人

💡 **ヒント**: どのキャラクターを選んでも強さは同じです。好きなものを選んでね！

### Step 3: 名前を入れる
あなたの名前（またはニックネーム）を入力。

**ルール**:
- 10文字まで
- ひらがな、カタカナ、漢字、英数字OK
- 好きな名前でOK！

入力したら「冒険を始める！」をクリック。

---

## 🗺️ ワールドマップ

プレイヤー作成が終わると、ワールドマップが表示されます。

### プレイヤー情報カード
画面上部に表示される情報：

- **キャラクターアイコン**: 選んだキャラクター
- **名前**: あなたの名前
- **レベル**: 現在のレベル（Lv.1からスタート）
- **経験値バー**: 次のレベルまでの進み具合
- **クリア数**: 解いた問題の数
- **正答率**: 正解した割合

### ワールドカード
冒険できる場所が表示されます。

#### 🌲 掛け算の森（プレイ可能）
- 難易度: ★★☆☆☆
- 問題数: 10問
- 内容: 掛け算の問題
- 「冒険する」ボタンをクリックして開始

#### ⛰️ 割り算の洞窟（準備中）
- まもなく公開予定

#### 🗼 分数の塔（準備中）
- まもなく公開予定

### ボタン
- **🏠 ホーム**: トップ画面に戻る
- **🚪 ログアウト**: ログアウトする（データは保存されます）

---

## ❓ 問題画面

「冒険する」ボタンをクリックすると、問題画面が表示されます。

### 画面の見方

#### ヘッダー（上部）
- **名前・レベル**: あなたの情報
- **⏱️ タイマー**: 問題を始めてからの時間
- **📊 進捗**: 今何問目か（例：3/10）
- **❌ 中断する**: 途中でやめたい時にクリック

#### ストーリーカード
- **📜 クエストの巻物**: RPG風のストーリー
- **ストーリーテキスト**: 問題の状況説明
- **🎯 問題**: 解く問題

**例**:
```
ストーリー:
「森の魔法使いが言った：
 3匹のドラゴンがいて、それぞれ4つの宝石を持っている。
 全部で何個の宝石があるかな？」

問題:
3 × 4 = ?
```

#### 回答入力エリア
- **入力欄**: 答えの数字を入力
- **単位**: 答えの単位（個、匹、本など）
- **✅ 答える！**: 答えを送信

### 答え方
1. 問題を読む
2. 計算する
3. 答えを入力欄に入力
4. 「答える！」ボタンをクリック

💡 **ヒント**: Enterキーを押しても送信できます！

---

## 🎯 結果画面

答えを送信すると、結果画面が表示されます。

### 正解の場合 🎉
- **🎉 正解！**: 大きく表示
- **経験値獲得**: +50〜80 XP
- **励ましメッセージ**: 「素晴らしい！」など

### 不正解の場合 💡
- **💡 惜しい！**: やさしく表示
- **正しい答え**: 正解を教えてくれる
- **励ましメッセージ**: 「次も頑張ろう！」など

### レベルアップ！ ✨
経験値が貯まるとレベルアップ！

- **✨ レベルアップ！**: 特別な演出
- **Lv.X → Lv.Y**: 新しいレベル
- **おめでとう**: 祝福メッセージ

### 統計情報
現在の成績が表示されます：

- **レベル**: 現在のレベル
- **正答率**: 正解した割合
- **解いた数**: 解いた問題の数
- **所要時間**: 問題にかかった時間

### 次へ進む
- **➡️ 次の問題へ**: 次の問題に進む（1〜9問目）
- **🏆 冒険完了！**: 全問題クリア（10問目）
- **🗺️ ワールドマップに戻る**: ワールドマップに戻る

---

## 📊 経験値とレベル

### 経験値（XP）
問題を正解すると経験値がもらえます。

**問題別の経験値**:
- 簡単な問題: 50 XP
- 普通の問題: 60 XP
- 難しい問題: 80 XP
- ボス問題: 80 XP（問題10）

### レベルアップ
経験値が貯まるとレベルアップ！

**必要な経験値**:
- Lv.1 → Lv.2: 100 XP
- Lv.2 → Lv.3: 150 XP
- Lv.3 → Lv.4: 225 XP
- 以降: どんどん増える

💡 **ヒント**: 問題2つでLv.2になれる！

### 経験値バー
ワールドマップとプレイヤーカードに表示。

- **黄色のバー**: 現在の経験値
- **キラキラ**: 貯まっている感じを演出
- **満タン**: レベルアップ！

---

## 🎮 操作方法

### マウス・タップ
- **ボタンをクリック**: 選択・決定
- **入力欄をクリック**: 入力開始

### キーボード
- **数字キー**: 答えを入力
- **Enter**: 答えを送信
- **Tab**: 次の項目に移動

### モバイル
- **タップ**: ボタンをタップ
- **スワイプ**: スクロール

---

## 💾 データ保存

### 自動保存
以下の情報が自動的に保存されます：

- **プレイヤー情報**: 名前、学年、キャラクター
- **レベル・経験値**: 現在の成長状況
- **統計情報**: 解いた数、正答率
- **進行状況**: どこまで進んだか

### 続きから再開
次回ゲームを開くと、「続きから」ボタンが表示されます。

クリックすると、前回の続きから遊べます！

💡 **ヒント**: ブラウザのデータを消すと保存データも消えます。

---

## 🆘 よくある質問

### Q1: 問題が難しすぎます
**A**: 何問か間違えると、自動的に簡単になります。安心してください！

### Q2: 間違えても大丈夫？
**A**: もちろん！間違えることで学べます。何度でもチャレンジしてね。

### Q3: レベルを上げるには？
**A**: 問題をたくさん正解すると、経験値が貯まってレベルアップします。

### Q4: データが消えました
**A**: ブラウザのデータをクリアすると消えます。「新しい冒険を始める」からやり直してね。

### Q5: 他のワールドは？
**A**: 現在は「掛け算の森」のみプレイ可能です。他は準備中です。

### Q6: 音が出ません
**A**: 現在、音楽・効果音は実装されていません。将来追加予定です。

### Q7: スマホでも遊べる？
**A**: はい！スマホ、タブレット、PCすべてで遊べます。

### Q8: 複数のプレイヤーを作れる？
**A**: 現在は1つのプレイヤーのみです。新しく作ると上書きされます。

---

## 🎯 攻略のコツ

### 1. じっくり考えよう
急がなくて大丈夫。タイマーはただの記録です。

### 2. ストーリーを楽しもう
問題文のストーリーを読むと、問題が分かりやすくなります。

### 3. 間違えても大丈夫
間違えたら正しい答えが教えてもらえます。次に活かしましょう。

### 4. 毎日少しずつ
毎日少しずつ遊ぶと、自然に数学が得意になります。

### 5. 目標を立てよう
「今日は5問解く！」など、目標を立てると続けやすいです。

---

## 🏆 目指せ！掛け算マスター

### 初級冒険者
- レベル2到達
- 5問正解

### 中級冒険者
- レベル3到達
- 10問全問クリア
- 正答率70%以上

### 上級冒険者
- レベル4到達
- 正答率90%以上
- 全問5分以内にクリア

### 掛け算マスター
- レベル5到達
- 正答率100%
- 全問ノーミスでクリア

---

## 🎓 保護者の方へ

### 本ゲームの教育効果
- **算数・数学の基礎**: 掛け算の習得
- **問題解決能力**: 文章題の理解
- **継続する力**: ゲーム性による動機付け
- **達成感**: レベルアップによる自信

### 見守りポイント
- 無理強いしない
- 褒めて伸ばす
- 間違いを責めない
- 楽しむことを最優先

### データ確認
ワールドマップで以下が確認できます：
- 解いた問題数
- 正答率
- レベル

---

## 📱 対応環境

### ブラウザ
- Google Chrome（推奨）
- Safari
- Microsoft Edge
- Firefox

### デバイス
- スマートフォン（iOS/Android）
- タブレット（iPad等）
- パソコン（Windows/Mac/Linux）

### 画面サイズ
- 最小: 375px（iPhone SE）
- 推奨: 768px以上

### 必要な機能
- JavaScript有効
- LocalStorage有効
- Cookie許可（データ保存用）

---

## 🆘 トラブルシューティング

### 画面が表示されない
1. ブラウザを最新版に更新
2. JavaScriptが有効か確認
3. キャッシュをクリア
4. 別のブラウザで試す

### データが保存されない
1. LocalStorageが有効か確認
2. プライベートブラウズモードを使っていないか確認
3. ブラウザの容量を確認

### ボタンが反応しない
1. ページを再読み込み
2. ブラウザのコンソールでエラー確認
3. デバッグモード（?debug=true）で確認

---

## 🔧 デバッグモード

開発者・テスター向けの機能です。

### 有効化
URLに `?debug=true` を追加：
```
index.html?debug=true
```

### 使える機能
ブラウザのコンソール（F12）で実行：

```javascript
// プレイヤーデータ確認
MathMagic.getCurrentPlayer()

// テストプレイヤー作成
createTestPlayer()

// データリセット
resetPlayerData()

// デバッグ情報表示
showDebugInfo()
```

---

## 📝 更新履歴

### Phase 1 (2024年11月2日)
- ✅ 初回リリース
- ✅ プレイヤー作成機能
- ✅ ワールドマップ
- ✅ 問題システム（掛け算10問）
- ✅ 経験値・レベルシステム
- ✅ データ永続化

### Phase 2（予定）
- 🔜 ヒントシステム
- 🔜 複数ワールド
- 🔜 報酬システム
- 🔜 AI問題生成

---

## 📞 お問い合わせ

### バグ報告
バグを見つけたら教えてください：
- どこで起きたか
- 何をしたか
- エラーメッセージ

### 機能リクエスト
「こんな機能がほしい！」があれば教えてね。

---

## 🎉 楽しもう！

**さあ、冒険の始まりです！**

数学の魔法で世界を救おう！

**Let's enjoy math! 🧙‍♂️✨**

---

**© 2024 マスマジ！～魔法数学冒険記～**  
**Made with ❤️ for kids who want to enjoy math!**
